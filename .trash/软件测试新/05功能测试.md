
# 功能测试
- 又称为**黑盒测试/数据驱动测试**
- 依据产品设计规格说明书完成对产品功能进行操 作，以验证系统是否满足用户的功能性需求
- 把测试对象看做一个**黑盒子**，测试人员完全不考虑程序内部的逻辑结构和内部特性

# 用例设计

### 等价类划分法

- 等价类是某个**输入域的子集**，在该子集中每个输 入数据的作用是等效的
- 将程序可能的输入数据**分成若干个子集**，从每个 子集**选取一个代表性的数据**作为测试用例
- 将程序可能的输入数据分成若干个子集，从每个 子集选取一个代表性的数据作为测试用例

##### 有效等价类和无效等价类
- **有效等价类**是**有意义的、合理的**输入数据，可以检查程序是否实现了规格说明中所规定的功能和性能
- **无效等价类**和有效等价类相反，即**不满足程序输入要求**或者无效的输入数据构成的集合
- 设计测试用例时，要**同时考虑**这两种等价类

##### 确认等价类的方法

- 输入条件**规定了取值范围或值的个数**的情况下，则可以确立**一个有效等价类**和**两个无效等价类**
![[课程/软件测试新/Inbox/Pasted image 20240613105816.png]]

- 在输入条件规定了输入值的集合或者规定了 “**必须如何**” 的条件的情况下，可以确立一个有效等价类和一个无效等价类
![[课程/软件测试新/Inbox/Pasted image 20240613105939.png]]

- 输入条件是一个**布尔量**的情况下，可确定一个有效等价类和一个无效等价类
![[课程/软件测试新/Inbox/Pasted image 20240613105957.png]]

- **规定了输入数据的一组值**(假定n个)，并且程序要对每一个输入值分别处理，这种情况下可确立n个有效等价类和一个无效等价类
- 规定了输入数据**必须遵守**的规则的情况下，可确立**一个有效**等价类(符合规则)和**若干个无效**等价类(从不同角度违反规则)

##### 应用步骤
- 针对输入条件进行数据分类, 分出有效等价类和无效等价类
- 对于**有效等价类**，进一步分割，直至不能划分为止，形成**等价类表**
- 无效等价类相同

##### 设计原则
- 为每个等价类规定一个唯一的编号
- 设计一个**新的测试用例** , 使其**尽可能多地覆盖**尚未被覆盖地有效等价类 , 重复这一步 . 直到**所有的有效等价类都被覆盖**为止
- 设计一个新的测试用例,使其**仅覆盖一个**尚未被覆盖的无效等价类,重复这一步，直到所有的**无效等价类**都被覆盖为止

**划分图**
![[课程/软件测试新/Inbox/Pasted image 20240613110802.png]]
![[课程/软件测试新/Inbox/Pasted image 20240613110819.png]]


### 边界值分析法
- 程序的很多错误发生在输入或输出范围的边界上， 因此针对各种边界情况设置测试用例
	- 确定边界情况
	- 选取正好等于、刚刚大于或刚刚小于边界值

##### 如何确定
- 输入条件规定了值的范围，则应取**刚达到**这个范围的边界的值，以及**刚刚超越**这个范围边界的值
- 规定了值的个数，则用最大个数、最小个数、比最小个数少一、比最大个数多一的数
- 给出的输入/输出域是**有序集合**，则应选取集合的第一个元素和最后一个元素
- 使用了一个内部数据结构，则应当选择这个内 部数据结构的**边界上的值**

##### 特殊的边界值
- 输入域的默认值, 空值或空格
- 报表第一行, 最后一行或第一列, 最后一列
- 循环的第一次和最后一次
- 屏幕上光标移动到最右边, 最下边等

##### 等价类和边界值方法结合
- 进行等价类分析时，往往先要确定边界
- 边界确定清楚了，等价类就自然产生了
- 边界值分析方法是**对等价类划分法的补充**

### 因果图法

- 实际应用的测试之中，经常碰到多种条件及其 组合的情况
- 通过因果图，可以建立**输入条件和输出之间的逻辑模型**，从而比较容易确定输入条件组合和输出 之间的逻辑关系

##### 输入与输出关系
- 在因果图中出现的基本符号
	- 通常用Ci表示原因, 用Ei表示结果
	- 各个节点表示状态, 0和1分别代表状态出现/不出现
- 主要的原因与结果之间关系有
![[课程/软件测试新/Inbox/Pasted image 20240613113833.png]]

##### 输入约束关系
![[课程/软件测试新/Inbox/Pasted image 20240613113919.png]]
![[课程/软件测试新/Inbox/Pasted image 20240613114002.png]]

##### 设计步骤
- 分析软件规格说明描述中，哪些是**原因** (即输入条 件或输入条件的等价类)，哪些是**结果** (即输出条 件)，并给每个原因和结果赋予一个**标识符**
- 找出原因与结果之间，原因与原因之间对应的是什么关系 , 根据这些**关系**，画出因果图。
- 有些原因与原因之间，原因与结果之间的组合情况不可能出现。为表明这些特殊情况，在因果图上用一些**记号标明约束或限制条件**
- 把因果图转换成**判定表**
- 把判定表每一列拿出来作为依据，**设计测试用例**

**例**
![[课程/软件测试新/Inbox/Pasted image 20240613115302.png]]
![[课程/软件测试新/Inbox/Pasted image 20240613115307.png]]


### 决策表方法
决策表也称为判定表，是分析和表达多逻辑条件 下执行不同操作的情况的工具

**优势**
- 将复杂的问题按照各种可能的情况全部列举出 来，简明并避免遗漏
- 针对不同逻辑条件的组合值，分别执行不同的操作。决策表很适合于处理 这类问题。

##### 如何指定决策表
- 列出所有的条件桩和动作桩
- 填入条件项
- 填入动作项，制定初始判定表
- 简化、合并相似规则或者相同动作


### 功能图法
- 程序的功能通常由静态说明和动态说明组成
- 静态说明描述了输入条件和输出条件之间的对应关系
- 动态说明描述了输入数据的次序或者转移的次序
- **功能图法**就是为了解决动态说明问题的一种测试用例的设计方法
- 由**状态迁移图**和**逻辑功能模型**构成

##### 状态迁移图
- 动态说明由状态和迁移来描述
- 状态指出数据输入的位置(或时间)
- 迁移则指明状态的改变

##### 功能图测试
- 角色 : 需确定被测流程共涉及几种角色，因为每 种角色对应的权限不同
- 权限 : 不同的角色对应不同的权限
- 路径 : 业务包含的分支路径。分支路径说明了 业务流程的复杂度


### 正交试验设计方法

**组合覆盖准则**
- Each Choice : One value from each block for each characteristic must be used in at least one test case
	- 一个值来自每个块对于每个特征必须被使用在至少一个测试用例
- Pair-Wise(PW) : A value from each block for each characteristic must be combined with a value from every block for each other characteristic
- t-Wise : A value from each block for each group of t characteristics must be combined

**实验设计方法**
- 从大量的（实验）数据（测试例）中挑选适量的、有代表性的点（条件组合），从而合理地安排 实验（测试）的一种科学实验设计方法

**实验范围**
- 适用于输入条件相互独立，并且 需要对输入条件的各种组合进行测试的场合

##### 正交实验法
- 是研究多因素多水平的一种设计方法
- 根据正交性从全面试验中挑选出部分有代表性的点进行试验
- 是分式析因设计的主要方法

**构成**
- **行数** : 正交表中的行的个数，也是我们通过正交实验法设计的测试用例的个数
- **因素数** : 正交表中列的个数，即我们要 测试的功能点
- **水平数** : 任何单个因素能够取得的值的最大个数

**整齐可比性**
每个因素的每个水平出现的次数是完全相同的。保证在各个水平中最大程度的排除了其它因素水平的干扰
**均衡分散性**
同一张正交表中，任意两列（两个因素）的水平搭配（ 横向形成的数字对）是完全相同的。保证了试验条件均衡地分散在因素水平的完全组合之中，因而具有很强的代表性

##### 计算理论

**行数为mn型的正交表**
- **试验次数** = ∑（每列水平数－1）＋1

##### 用例设计步骤
1. 有哪些因素
2. 因素有哪几个水平
3. 选择一个合适的正交表
4. 把变量的值映射到表中
5. 把每一行的各因素水平的组合做为一个测试用 例
6. 加上你认为可疑且没有在表中出现的组合

**如何选择**
- 考虑因素个数
- 考虑因素水平个数
- 考虑正交表个数
- 取行数最少一个

**三种情况**
- 因素数, 水平数相符
- 因素数不相同
- 水平数不相同

**因素数不同**
- 采用包含的方法，在正交表公式中找到包含该情况的公式，如果有N个符合条件的公式，那么选取行数最少的公式
**水平数不同**
- 采用包含和组合的方法选取合适的正交表 公式。

##### 组合测试实用策略
- 发现所有的单点缺陷
- 发现所有的双点缺陷
- 发现部分的多点缺陷


# 总结

- 面向**单个输入点**的测试用例设计(分类 + 边界值)
- 面向**多个输入点**的测试用例设计(组合方法-正交测试)
- 面向输入/输出的因果联系(因果图 + 决策表)











