# 条件语句

### if语句
略

### if else语句
else总是与最近的if结合,  如果else的上一条语句不是if,  那么程序将报错

#### 条件运算符 ? : 
略

### 逻辑运算符 - &&、|| 和 ！
- && - 逻辑与
- || - 逻辑或
- ! - 逻辑非
(可以使用and, or 和 not 来代替这些符号)

- 逻辑与和逻辑或的优先级低于关系运算符
- 逻辑非的优先级高于关系运算符

*尽管如此,  还是建议在进行编写复合比较时使用括号*

与C语言相同, 同样也有着短路等特点

### cctype字符函数库

|函数|描述|
|-----|-----|
|islower(ch)|判断是否为小写|
|tolower(ch)|转换为小写|
|isupper(ch)|判断是否为大写|
|toupper(ch)|转换为大写|
|isalpha(ch)|如果ch为字母, 返回非0值;  否则返回0|
|ispunct(ch)|如果ch为标点符号, 返回非0值;  否则返回0|
|isdigits(ch)|如果ch为数字, 返回非0值;  否则返回0|
|isspace(ch)|如果ch为空格, 返回非0值;  否则返回0|



## switch语句

每个标签都必须是整数常量表达式,  可以是 整数、字符、枚举量

当找到对应的case后，除非遇到break，否则不会停止

## continue和break

- break - 跳出某段代码
- continue - 跳过某次循环( 对于for循环而言, 不会错过该变量的更新表达式 )

## 读取数字的循环

对于cin的输入与要求格式不匹配的情况,  有以下4种可能
- n的值保持不变
- 不匹配的输入将被留在输入队列中
- cin对象中的一个错误标记被设置
- 对cin方法的调用将返回false

当cin有错误输入时, 会**设置错误标记**, 输入无法继续执行
使用 **clear()** 清除错误标记后,  才能够继续输入

clear()方法会重置错误输入标记,  同时也会重置文件尾标记

当发现错误输出后的三个步骤
1. 重置cin以接受新的输入
2. 删除错误输入
3. 提示用户再次输入


## 基本文件输入/ 输出

###### 文本I/O和文本文件
文本文件可以被直接打卡和编辑, 比较直观

###### 写入到文本文件

- 必须包含头文件fstream
- 头文件定义了一个用于处理输出的ofstream类
- 需要声明一个或多个ofstream变量(对象)
- 指明名称空间
- 将ofstream对象与文件关联起来, 为此使用open()方法
- 使用完文件以后, 使用方法close()将其关闭
- 可以结合ofstream对象和运算符<<来输出各种类型的数据

==打开已有文件接受输出时默认截断长度为0, 所以数据会丢失==

iostream提供了一个名为cout的ostream类型变量, 但是ofstream必须自己定义相应的对象并命名, 然后将其与文件关联起来.

```C++
ofstream outFile;
outFile.open("carinfo.txt");	// 如果没有,则在当前目录下创建一个txt
```

对于ofstream对象, 同样可以使用输出格式化方式

```C++
outFile << fixed;
outFile.precision(2);
outFile.setf(ios_base::showpoint);		// 将浮点数输入格式设置为2位
```

###### 读取文本文件

- 必须包含头文件fstream
- fstream定义了一个用于处理文件输入的ifstream类
- 需要声明一个或多个ifstream对象
- 指明命名空间
- 将ifstream对象与文件关联起来,  使用open()方法
- 使用完文件后, 使用close()方法将其关闭
- 可以结合使用ifstream和运算符>>来读取各种类型的数据
- 可以使用ifstream和get()方法来读取一个字符, 使用ifstream对象和getline()来读取一行字符
- 可以结合使用ifstream和eof()、fail()等方法来判断输入是否成功
- ifstream对象本身被用作测试条件时，如果最后一个读取操作成功，它将被转换为布尔值true，否则被转换为false

如果用ifstream对象打开一个不存在的文件，则可以使用is_open()方法来测试, 如果打开文件失败, 则该方法的返回值是false

对于ifstream对象, 可以使用以下方法来判断文件是否被打开

```C++
inFile.open(filename);
if (!inFile.is_open())
{
	cout << "File is not open success";
	exit(EXIT_FAILURE);
}
```

在循环录取文件中的字符时, 可以使用 文件名.good()来判断是否录入成功

```C++
inFile >> value;
while (inFile.good())	// 文件读取成功进行
{
	// loop body
	inFile >> value;
}
```

可以使用如下代码来精简输入流程
```C++
while(inFile >> value)
{
	// loop body
}
```


## for循环

和C语言一样

#### 关系表达式

当关系表达式成立时，值为1

#### 副作用和顺序点

- 副作用 - 在计算表达式的值时对变量中的表达式进行了修改
- 顺序点 - 所有的副作用都已经完成了的点

#### 字符串的比较

C风格字符串一般使用strcmp函数来进行比较，不能使用==
string字符串可以使用 == 来进行比较，因为进行了运算符重载

## while循环

###### 类型别民

C++为变量建立别名的方式有两种
- 使用预处理器 - \#define
- 使用typedef关键字

## do while循环
略

## C++11 for循环

C++11新增了基于范围的for循环(和Java差不多)

如
```C++
double prices[5] = {1,2,3,4,5};
for(double x : price)
{
	cout << x << endl;
}
```

## 循环和文本输入

#### 使用cin进行输入

1. cin >> ch;
	**在使用cin读取char值时，同样会忽略字符串和回车**
2. cin.get(ch);
	读取当前缓冲区内的一个字符，并将其赋给ch - 即使是空格
3. cin.get();
	读取缓冲区内的一个字符，作为返回值返回

cin.get()遇到返回值时会返回EOF, 因此可以作为检测文件尾的另一种手段

#### 文件尾条件

可以使用Ctrl + Z或Ctrl + C来模拟文件尾

cin在检测到文件尾后, 会将eofbit和failbit都设置为1,所以可以通过查看这两位来检测文件尾
在读取结束后, 才会设置这两个位, 所以应该在判断前**保证有读取**这个动作

cin.eof() - 如果检测到eofbit为1, 返回true, 否则返回false
cin.fail() -  检测到failbit, 适用于更多场景, 因此更推荐


## 嵌套循环和二维数组

**二维动态数组**
动态初始化二维数组时, 需要先为指向二维数组的指针分配内存空间, 然后再根据为指针数组中的每一个指针分配内存空间

