
# 文件编码

- 编码技术即翻译的规则, 记录了如何将内容翻译成二进制以及如何将二进制翻译回可识别内容

**常用**
- UTF-8(全球通用的编码格式)
- GBK
- Big5

除非有特殊需求, 否则读写文件都以**utf-8格式**进行编码

# 文件读取

- 操作系统通过文件管理磁盘中的数据
- 文本文件
- 视频文件
- 图像文件
- ...

**操作文件步骤**
1. 打开文件
2. 操作文件
3. 关闭文件

**函数**
1. 使用open函数, 可以打开一个已经存在的文件或者创建新文件
   - `open(name, mode, encoding)`
	   - name : 文件名字符串(包括路径)
	   - mode : 文件打开模式 - 只读, 写入, 追加 ...
		   - r : 只读模式, 文件指针放在文件开头
		   - w : 写入模式, 删除原有内容, 从头编辑; 不存在文件时创建文件
		   - a : 追加模式, 创建新文件或从旧文件结尾处追加
	   - encoding : 编码格式, 推荐utf-8
		   - encoding使用关键字参数, 因为不是第三个参数
	   - 返回值类型为`<class '_io.TextIOWrapper'>`
```python
# 打开文件  
f = open('D:\test.txt', 'r', encoding='utf-8')
```

2. 使用read方法从文件中读取指定长度的字节
   - `文件对象.read(num)`
   - 不传入num表示读取文件中全部数据
   - 不重置光标继续读取, 从**上一次读取结束的地方**开始读取
3. 使用readlines()按行方式读取 : (空行不算行)
   - `文件对象.readLines()`
   - 可以按行方式读取文件中全部内容, 返回一个列表, 每行为一个元素
   - 同样受read类方法的影响而从上一次读取结束的地方开始
4. 使用readline方法一次读取一行
   - `文件对象.readline()`
   - 同样受read类方法的影响而从上一次读取结束的地方开始
5. for循环读取文件行
   - 可以使用for循环**快速按行读取**文件并进行相关操作
```python
for line in f:  
    print(line)
```

6. 文件关闭
   - `文件对象.close()`
   - 关闭文件连接, 释放对象, 解除对文件的占用
	   - 如不关闭, 文件无法被使用

7. **with open语法**
   - 执行完成后自动完成文件的关闭
```python
with open("python.txt", 'r') as f:
	f.readlines()
```

# 文件写入

- 使用w模式open不存在文件时, 会创建对应的文件
	- 原文件存在, 将会抹除原文件
- 直接调用write, 内容并未真正写入文件, 而是积攒在程序内存中, 称为**缓冲区**
- 调用**flush**时, 内容才会真正写入文件
- close方法内置了flush功能
- 这样可以避免频繁操作硬盘, 导致程序效率下降

**函数**
- `文件对象.write(内容)` : 向文件中写入内容
- `文件对象.flush()` : 刷新缓冲区
	- close方法内置flush

# 文件追加

- 使用a模式打开文件, 不存在时会创建文件, 存在时会追加文件
- 其他功能和w模式相同
- 可以使用`\n`来写出换行符



