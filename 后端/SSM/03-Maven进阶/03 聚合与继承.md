# 聚合

- **聚合** : 将多个模块组织成一个整体, 同时进行项目构建的过程称为**聚合**
- **聚合工程** : 通常是一个不具有业务功能的"空"工程 (有且仅有一个pom文件)
- **作用** : 使用聚合工程可以将多个工程编组, 通过对聚合工程进行构建, 实现对所包含的模块进行同步构建
	- 当工程中的某个模块发生变更时, 必须保障工程中与已更新模块关联的模块同步更新, 此时可以用聚合工程批量解决模块同步构建问题

**聚合工程设置步骤**
- 新建聚合工程, 设置打包方式为pom, 在pom.xml中进行相应设置
- 在聚合工程中使用 `<modules>` 标签来列举需要管理的模块, 使用 `<module>` 标签标注需要被管理的模块
- 聚合工程会根据各个模块的**依赖关系**自动进行编译顺序的调整, 其编译顺序与聚合工程中模块的配置书写位置无关
- 参加聚合的工程**无法向上感知**是否参与了聚合, 只能向下配置哪些模块参与本工程的聚合
```xml
<packaging>pom</packaging>  
<modules>  
    <module>../maven_02_ssm</module>  
    <module>../maven_03_pojo</module>  
    <module>../maven_04_dao</module>  
</modules>
```

# 继承

- **概念**
	- 继承描述的是**两个工程之间**的关系, 与java中的继承类似, 子工程可以继承父工程中的**配置信息**, 常见于 **依赖关系** 的继承
- **作用**
	- 简化配置
	- 减少版本冲突

**继承描述**
- 创建相应父工程, 设置其打包类型为pom
- 在子工程中配置继承自哪个父工程, 使用`<parent>`标签进行描述, 通过`<relativePath>`描述父工程所在的位置
```xml
<parent>  
    <groupId>top.majinliang</groupId>  
    <artifactId>maven_01_parent</artifactId>  
    <version>1.0-SNAPSHOT</version>  
    <relativePath>../maven_01_parent</relativePath>  
</parent>
```
- 在父工程中添加每个模块都会用的依赖, 部分模块单独使用的依赖留在子工程内部的依赖中
- 父工程中使用的依赖, 子工程中会自动添加对应依赖

**依赖管理**
- 父工程中配置依赖管理, 标签为 `<dependencyManager>` , 用于表示并非强制要求子工程导入的依赖项
```xml
<dependencyManagement>  
    <dependencies>        
		    <dependency>            
				    <groupId>junit</groupId>  
            <artifactId>junit</artifactId>  
            <version>4.13.2</version>  
            <scope>test</scope>  
        </dependency>    
    </dependencies>
</dependencyManagement>
```
- 对应子类中, 导入相应的依赖项, 但是**不需要加版本**, 直接由父工程控制版本, 子工程只需要表明自己需要导入对应的依赖

# 聚合与继承的区别

**作用**
- 聚合用于快速构建项目
- 继承用来快速配置
**相同点**
- 聚合与继承的pom.xml文件打包方式均为pom, 可以将两种关系制作到同一个pom文件
- 聚合与继承均属于设计型模块, 并无实际的模块内容
**不同点**
- 聚合是在当前模块中配置关系, 聚合可以感知到参与聚合的模块有哪些
- 继承是在子模块中配置关系, 父模块无法感知哪些子模块继承了自己
