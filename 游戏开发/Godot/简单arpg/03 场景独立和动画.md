**已有节点创建场景**
1. 右键已有节点
2. 保存分支为场景
3. 保存后, 原本的分支就变成了一个场景, 想要编辑这个分支, 可以从场景中编辑
4. 如果想要节点与场景位置无偏移, 在场景中将节点位置移动到0,0即可
5. 通过这种方式可以实现场景的复用

**使用Node2D作为主世界节点原因**
1. Node2D移动时, 所有节点都会跟着移动
2. Node中所有的元素默认在0,0, 必须接着手动移动

**使用场景组织**
1. 对于独立的元素, 使其可以独立运行而不依赖其他节点, 便于测试, 利于管理


**YSort 层次关系**
1. 新建节点YSort
2. 该节点中的子节点, 会根据Y的位置进行排序
	- 4.0以上版本集成在了Node2D中
	- 在order中开启
3. 可以将YSort代替Node2D
4. 其是根据各个场景的中心节点排序的
	- 如果想要定位足够准确, 应该将想要作为定位点的点(一般是碰撞体和材质)与场景中心点对齐


**动画效果**
1. 添加AnimationPlayer节点
2. 在时间轴中创建动画
	- 动画 -> 新建 , 根据动画的相关类型进行命名
	- 下方有每帧间隔, 右侧有该动画的时长
3. sprite中的Frame是动画的重要属性
	- 在动画开始的第一帧, 选中Frame中开始动画的第一帧, 按key新建轨道并添加关键帧
	- 这样可以保证第一帧就开始移动, 而不是要静止一帧的时间
4. 可以通过设置加载时自动播放来使动画循环

**Player脚本连接AnimationPlayer节点**
1. 创建 animationPlayer 变量
2.  `$` 是get_node的简写, 可以**获取树中的节点**
   - 获取动画节点, 存储到对应的变量中
   - 在变量前应该添加`onready` , 表示ready后要进行赋值
3. 节点中有play方法 , 可以播放设定好的动画
4. 可以通过判断速度矢量的方向 , 决定当前动画的播放方向
5. 这种形式过于复杂和麻烦, 可以通过动画树简化

**使用动画树**
1. 加入动画树节点
2. 为动画树加入 animationPlayer
3. 设置动画树的tree root
   - 我们使用AnimationNodeStateMachine
4. 启动animationPlayer
5. 添加 BlendSpace2D
	- 注意其中上下的方向是相反的
	- 因为2D中y正方向向下而不是向上, 所以up在下
	- 添加的动画三角形实际上是一个以上下左右组成的正方形
6. 在BlendSpace2D中添加相应的动画
	- 将Blend设置为虚线
	- 启动动画, 移动点的位置, 可以观察到动画的改变
	- 在参数中设置点位置
7. 在树中继续添加BlendSpace2D, 为两个BlendSpace2D添加连接, 可以在连接设置中设置发生时机等
	- 该BlendSpace2D为运动的动画, 设置方式和待机相同
8. 使用代码控制动画
	1. 创建 animationTree 变量
		- 只在移动时更新混合位置, 停下来时, 保留之前的值, 也就保存了之前的朝向
	2. 使用set函数设置其属性
		- 可以直接拖动对应的属性到代码中
		- 为set提供input_vector属性
		- `animationTree.set ("parameters/Idle/blend_position", input_vector)`
	3. 













