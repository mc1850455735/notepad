
# DOM概念

### 变量声明
复杂变量声明时建议const优先
- const语义化更好
- 很多变量声明后就不打算改变
- 后续开发后基本也使用const
- 有变量先用const, 如果需要变化, 再改为let
- 对象声明为const, 不可以修改指向的对象, 但是可以**修改对象中的属性**

### 作用和分类

- 使用JS操作html和浏览器
- 分类:  DOM和BOM

### 什么是DOM
- Document Object Model : 文档对象模型, 用来呈现以及与任意HTML或XML交互
- 用于操作网页内容

### DOM树
- 将HTML文档以**树状结构**直观表示出来(又称文档书)。
- 描述**网页内容关系**的名称
- 作用: **直观体现了标签与标签之间的关系**

### DOM对象
- 浏览器根据html标签生成的JS对象
	- 所有的标签以及其属性都可以在这个对象中找到
	- 修改这个对象的属性, 会自动映射到标签身上
- 最大的对象是docment对象
	- 所有他提供的属性和方法都是用来访问和操作网页内容的
	- 网页所有内容都在dom中

**核心思想**
- 把网站内容作为**对象**处理

# DOM获取
- 利用js选择页面中标签元素

**使用结构**
- parentNode : 当前DOM元素的父元素

### 使用CSS选择器
可以是标签选择器, 类选择器, 后代选择器, 条件选择器等

1. 选择匹配的**第一个元素**
	- document.querySelector('CSS选择器')
	- 参数: 包括CSS选择器的字符串
	- 返回值: HTMLElement对象, 没有为null
2. 选择匹配的**所有元素**
	- document.querySelectorAll('CSS选择器')
	- 返回值: NodeList类型, 数组元素为HTMLElement对象类型
	- 不管有多少个元素, 返回的都是NodeList数组形式, 必须通过下标访问
	- 这个伪数组有长度和索引号, 但是没有pop(), push()等方法

### 其他方式

**ES5写法**
- 缺点: 不如选择器灵活

1. 根据id获取一个元素, 返回值为HTMLElement对象
	- document.getElementById('id名')
2. 根据标签名获取一类元素, 返回值为数组
	- document.getElementsByTagName('标签名')
3. 根据类名获取一类元素, 返回值为数组
	- document.getElementsByClassName('类名')
4. 获取body时, 可以直接使用document.body

# 操作元素

### 修改元素的内容

##### innerText
- 将文本内容添加/更新到标签位置
- 只显示文本, 不解析标签
##### innerHTML
- 将文本内容添加/更新到标签位置
- 会解析标签, 书写时建议使用**模板字符串** 

### 修改元素属性

##### 修改常用属性
- 通过JS设置/修改元素属性
- 如href, src, title等
- **语法**
- `对象.属性 = 值`

##### 修改样式属性
1. 通过style属性操作css
	- `对象.style.属性名`
	- 属性名有-的, 改为大写字母
	- 赋值时不要忘记单位
2. 通过className操作css
	- 修改样式比较多时, 通过设置元素类批量设置元素样式
	- 会**覆盖**原来的class属性
		- 可以使用元素.className += ' 新类名'使其不再被覆盖
	- class是其他关键字, 所以类名叫做className
3. 通过classList操作类控制css
	- 最常使用, H5新增
	- 解决**className**容易覆盖以前类名的缺点
	- add('类名') -> 追加
	- remove('类名') -> 删除
	- toggle('类名') -> 有则删, 无则加(转换状态)
	- 类名前不要加点( `.` )

##### 修改表单属性
- 获取: `DOM对象.属性名`
- 设置: `DOM对象.属性名 = 新值`

**布尔属性**
- disabled : 是否有效
- checked : 单选框和复选框
- selected : 下拉框是否被选中

**文本框**
- value : 用户输入的值
- type : input的类型
- placeholder : 用户输入提示语(一般默认, 不修改)
- 获取其中值使用value, innerHTML什么都获取不到
	- innerHTML只能获取普通元素内容

##### 自定义属性

- 标准属性 : 标签天生自带的属性, 如class title 等, 可以直接使用点语法操作
- 自定义属性
	- H5中提出的data-自定义属性
	- 一律以data-开头
	- 在DOM中一律使用**dataset对象方式**获取


# 定时器
- 作用: 隔一段时间自动执行一段代码

### 间歇函数

1. **开启定时器**
- `setInterval(函数, 时间ms)`
- `setInterval('函数()', 时间ms)` -> 不常见
- 作用: 各一段时间调用这个函数, 第一次执行也要等固定的时间
- 返回值: 定时器的编号
2. **关闭定时器**
- clearInterval(定时器编号)

