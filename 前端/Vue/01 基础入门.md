## Vue快速上手

### Vue概念

Vue是一个用于构建用户界面的渐进式框架
- 构建用户界面: 基于数据渲染出用户看见的界面
- 渐进式: 循序渐进
- 框架: 完整的项目解决方案

**Vue两种使用方式**
- Vue核心包开发
	- 局部模块改造
- Vue核心包&Vue插件 工程化开发
	- 整站开发

### 创建实例

**核心步骤**
1. 准备容器
2. 引入核心包(开发版本/生产版本)
3. 创建Vue实例 new Vue()
4. 指定配置项
	1. el指定挂载点
	2. data提供数据

```vue
<script>
	// 一旦引入VueJS核心包, 在全局环境下就有了Vue构造函数
	const app = new Vue({
	  el: "#app",  // 通过el指定Vue管理的是哪个盒子
	  data: "",
	})
</script>
```

### 插值表达式

- `{{}}`
- 插值表达式是Vue的一种模板语法
- 作用: 利用表达式进行插值, 渲染到页面中
	- 表达式: 可以被求值的代码
- 语法: {{表达式}}
	- 只要是表达式, 都可以塞到双括号中
- 注意:
	- 使用的数据必须存在
	- 支持的是表达式而非语句
	- 不能在标签中使用{{}}进行插值

```js
<div id="app">
	<!-- 插值表达式 -->
	<!--利用表达式进行插值渲染  -->
	{{ nickname }}
	{{ nickname.toUpperCase() }}
	{{ nickname + "nihao" }}
	<p>{{ age >= 18 ? "adult" : "unadult"}}</p>
	<p>{{ friend.name }} {{friend.desc}}</p>
</div>
```

### 响应式特性

- 除了基础的模板渲染, Vue背后还做了大量工作
	- 数据修改 -> Vue监听到数据修改 -> 通过**Dom操作**自动更新视图
	- Vue将Dom操作封装了起来
- 如: 数据的响应式处理 - 数据变化, 视图**自动更新**
- 响应式数据, 数据变化视图自动更新

**访问/修改**
- 访问数据: 实例.属性名
- 修改数据: 实例.属性名 = 值
- data中的数据, 最终会被添加到实例上
	- app.msg 访问
	- app.msg = 新值 修改

## Vue指令

- Vue会根据不同的指令, 针对标签实现不同的功能
- 指令: 带有**v-前缀**的特殊标签属性
- 可以在官网中找到所有的Vue指令
	- https://v2.cn.vuejs.org/v2/api/

### v-html
- 解析其中变量, 动态设置元素的innerHTML
- 语法: v-html = "表达式"

### v-show与v-if

##### v-show
- 控制元素显示/隐藏
	- 切换CSS中的display控制显示隐藏
- 语法: v-show="表达式"
	- 表达式true显示, false隐藏
- 适合频繁切换显示/隐藏

##### v-if
- 控制元素显示/隐藏(条件渲染)
	- 根据判断条件控制元素的创建和移除
- 语法上同
- 适合要么显示, 要么隐藏, 不频繁切换的场景
- 防止出现太多冗余结构

### v-else与v-else-if

- 作用: 辅助v-if进行判断渲染
- 要紧挨着v-if进行使用

```js
<div id="app">
	<p v-if="gender === 1">男</p>
	<p v-else>女</p>
	<hr>
	<p v-if="score >= 90">优秀</p>
	<p v-else-if="score >= 80">良好</p>
	<p v-else-if="score >= 60">及格</p>
	<p v-else>不及格</p>
</div>
```

### v-on
- 作用: 注册事件 = 添加监听 + 提供处理逻辑
	- 简写: `@`
	- `<button @click="count--">-</button>`
- 语法:
	- v-on:事件名 = "内联语句" (内联语句: 一段可执行代码)
	- v-on:事件名 = "methods中的函数名"
- 添加监听
	- 通过this.变量名实现函数中访问vue变量
	- method中所有方法都**指向Vue实例**
```js
methods: {
	changeShow() {
		this.isShow = !this.isShow
	}
}
```
- 调用传参
	- 调用时: 
```
<button @click="fn(参数)"></button>
```

### v-bind

- 作用: 动态设置html标签属性
- 语法: `v-bind:属性名 = "表达式"`
- 简写: `:属性名="表达式"`
- 用于渲染的变量在使用前要提供对应的变量

### v-for

- 作用: 基于数据循环, 多次渲染整个元素
	- 数组, 对象, 数字
- 语法: `v-for="(item, index) in array"`
	- item: 每一项
	- index: 下标 (可以省略, 省略后不需要写括号)

**实践中不应该把v-for和v-if放在一起**
这是由于v-if与v-for会互相干扰
- 在vue2中，v-for的优先级高于v-if
- 在vue3中，v-if的优先级高于v-for


- v-for的key
- 语法: `:key = 'item.id'`
- 作用: 给列表项添加唯一标识, 便于Vue进行列表项的**正确排序复用**
- 如果不加key, Vue会尝试原地修改元素(就地复用), 导致只删除了数据, 而不是删除了数据对应的dom节点
- 注意
	- key只能是数字或字符串类型
	- key必须具有唯一性
	- 推荐使用id作为key, 不推荐使用index作为key

```js
<li v-for="(item, index) in bookList">
	<span> {{ item.name }} </span>
	<span> {{ item.author}} </span>
	<button @click="remove(item.id)">删除</button>
</li>
```

- 通过JS数组函数`filter(item => 条件)`, 进行数组筛选
- filter需传回原数组, 因为他不会改变原数组

### v-model

- 作用: 给表单元素使用, 进行数据的双向绑定
	- 可以快速获取或设置表单中的值
	- 数据变化, 视图自动更新; 视图更新, 数据自动更新
- 语法: v-model= '变量'



